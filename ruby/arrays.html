<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"
"http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
  <link rev="made" href="mailto:slagell@ruby-lang.org">
  <link rel="stylesheet" href="ug.css" type="text/css">
  <title>Ruby 使用手冊 | 陣列</title>
</head>
<body bgcolor="#e0e0e0" text="black" vlink="#4444ff"alink="yellow" alink="4444a0">
<div id=top>
<table class=noborder width=100%><tr>
       <td>
        <table class=noborder width=100%>
        <tr>
	<td><div class=rubyred><h2>Ruby 使用手冊</h2></div></td></tr>
        <tr>
        <td><div class=rubygray>陣列 Arrays</div></td>
        </tr></table>
       </td>
        <td width=82>
        <table class=noborder width=100%>
         <tr>
          <td>
            <a title="previous: Regular expressions" href=regexp.html>
            <img border=0 src="la-plexi.png" /></a></td>
          <td>
            <a title="next: Back to the simple examples" href=backtoexamples.html>
            <img border=0 src="ra-plexi.png" /></a></td>
         </tr>
        </table>
       </td>
     </tr></table>
</div>
<div id=navcol>
<table>
<tr><td>&nbsp;</td><td><a href="index.html">甚麼是 Ruby？</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="getstarted.html">起步走</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="examples.html">簡單示範</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="strings.html">字串</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="regexp.html">正規表示式</a></td></tr> 
<tr><td>&nbsp;</td><td><strong>陣列</strong></td></tr> 
<tr><td>&nbsp;</td><td><a href="backtoexamples.html">繼續簡單示範</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="control.html">控制結構</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="iterators.html">迭代器</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="oothinking.html">物件導向思維</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="methods.html">方法</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="classes.html">類別</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="inheritance.html">繼承</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="redefinemethods.html">重新定義方法</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="accesscontrol.html">存取控制</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="singletonmethods.html">單件方法</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="modules.html">模組</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="procobjects.html">程序物件</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="variables.html">變數</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="globalvars.html">全域變數</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="instancevars.html">實例變數</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="localvars.html">區域變數</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="constants.html">類別常數</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="rescue.html">例外處理：救援</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="ensure.html">例外處理：確認</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="accessors.html">存取器</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="objinitialization.html">物件初始化</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="misc.html">基本要素</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="about.html">關於本手冊</a></td></tr> 
<tr><td colspan=2><hr></td></tr>
<tr><td colspan=2>
  <a href="http://www.ruby-lang.org">Ruby 程式語言首頁</a>
</td></tr>

</table>
</div>
<div id=content>

<p>你可以在 (<code>[]</code>) 中列出幾個項目建立一個<em>陣列 (array)</em>，用逗號隔開項目。Ruby 的陣列能夠容納各種型別的物件。</p>
<p></p><div class="shell">ruby&gt;<font color="#ffff00"><B> ary = [1, 2, &quot;3&quot;]</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; [1, 2, &quot;3&quot;]</B></font></div>

<p>陣列與字串一樣，能夠串接與重複。</p>
<p></p><div class="shell">ruby&gt;<font color="#ffff00"><B> ary + [&quot;foo&quot;, &quot;bar&quot;]</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; [1, 2, &quot;3&quot;, &quot;foo&quot;, &quot;bar&quot;]</B></font><BR> ruby&gt;<font color="#ffff00"><B> ary * 2</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; [1, 2, &quot;3&quot;, 1, 2, &quot;3&quot;]</B></font></div>

<p>我們可以利用索引號碼 (index number) 指示陣列的任何部分。</p>
<p></p><div class="shell">ruby&gt;<font color="#ffff00"><B> ary[0]</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; 1</B></font><BR> ruby&gt;<font color="#ffff00"><B> ary[0,2]</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; [1, 2]</B></font><BR> ruby&gt;<font color="#ffff00"><B> ary[0..1]</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; [1, 2]</B></font><BR> ruby&gt;<font color="#ffff00"><B> ary[-2]</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; 2</B></font><BR> ruby&gt;<font color="#ffff00"><B> ary[-2,2]</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; [2, &quot;3&quot;]</B></font><BR> ruby&gt;<font color="#ffff00"><B> ary[-2..-1]</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; [2, &quot;3&quot;]</B></font></div>

<p>（負號指從陣列結尾計算偏移位置 (offset)，而不是從陣列開頭。）</p>
<p>陣列可用 <code>join</code> 轉換為字串，字串可用 <code>split</code> 轉換為陣列：</p>
<p></p><div class="shell">ruby&gt;<font color="#ffff00"><B> str = ary.join(&quot;:&quot;)</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; &quot;1:2:3&quot;</B></font><BR> ruby&gt;<font color="#ffff00"><B> str.split(&quot;:&quot;)</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]</B></font></div>

<h2><a name="label-0" id="label-0">雜湊 (Hashes)</a></h2><!-- RDLabel: "Hashes" -->
<p>關連陣列 (associative array) 不同於用數字序列的索引號碼提取內容，而是用一個 <em>鍵 (key)</em> （編註：可用任何物件當做 Key，但通常是 <code>Symbol</code>、<code>String</code> 字串或 <code>Fixnum</code> 整數）。這種陣列一般稱為<em>雜湊 (hash)</em> 或<em>字典 (dictionary)</em>，而在 Ruby 世界，我們慣用<em>雜湊 (hash)</em> 一詞。用大括號 (<code>{}</code>) 括起各對項目就能建立雜湊。雖然你用索引尋找陣列的內容，但尋找雜湊的內容則是用鍵 (key)。</p>
<p></p><div class="shell">ruby&gt;<font color="#ffff00"><B> h = {1 =&gt; 2, &quot;2&quot; =&gt; &quot;4&quot;}</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; {1=&gt;2, &quot;2&quot;=&gt;&quot;4&quot;}</B></font><BR> ruby&gt;<font color="#ffff00"><B> h[1]</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; 2</B></font><BR> ruby&gt;<font color="#ffff00"><B> h[&quot;2&quot;]</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; &quot;4&quot;</B></font><BR> ruby&gt;<font color="#ffff00"><B> h[5]</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; nil</B></font><BR> ruby&gt;<font color="#ffff00"><B> h[5] = 10&nbsp; &nbsp; # 加入一個項目</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; 10</B></font><BR> ruby&gt;<font color="#ffff00"><B> h</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; {5=&gt;10, 1=&gt;2, &quot;2&quot;=&gt;&quot;4&quot;}</B></font><BR> ruby&gt;<font color="#ffff00"><B> h.delete 1&nbsp;&nbsp; # 用 Key 刪除一個項目</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; 2</B></font><BR> ruby&gt;<font color="#ffff00"><B> h[1]</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; nil</B></font><BR> ruby&gt;<font color="#ffff00"><B> h</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; {5=&gt;10, &quot;2&quot;=&gt;&quot;4&quot;}</B></font></div>


<h2><a>字串符號 (Symbol)</a> (編註)</h2>

<p> 一個 Symbol 物件皆為冒號開頭，例如 <code>:foo</code> 或 <code> :foo_bar</code>。它的作用就是代表一個名字，最大的作用就是當做 Hash 的鍵 (key)，例如 <code>{ :foo => 1, :bar => 2 }</code>，在這裡我們只需要一個識別的名字，不需要使用字串物件。使用 Symbol 寫法更簡潔和獲得效能上的好處 </code></p>

</p>

</div>
<div id=bottom>
<table class=noborder width=100%><tr>
       <td>
  <div class=rubygray>
    <p>Copyright (c) 2005-2008 Mark Slagell，中文翻譯 <a href="http://ruby.tw">Ruby Taiwan</a> 社群</p>
    <p>Permission is granted to copy, distribute and/or modify
    this document under the terms of the GNU Free Documentation
    License, Version 1.2 or any later version published by the Free
    Software Foundation; with no Invariant Sections, no Front-Cover
    Texts, and no Back-Cover Texts.</p>

    <p>A copy of the license is included in the section entitled "<a href="documentation_license.html">GNU Free Documentation License</a>."</p>

 </div>
       </td>
        <td width=82>
        <table class=noborder width=100%>
         <tr>
          <td>
            <a title="previous: Regular expressions" href=regexp.html>
            <img border=0 src="la-plexi.png" /></a></td>
          <td>
            <a title="next: Back to the simple examples" href=backtoexamples.html>
            <img border=0 src="ra-plexi.png" /></a></td>
         </tr>
        </table>
       </td>
     </tr></table>
</div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-145330-13']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</BODY></HTML>
