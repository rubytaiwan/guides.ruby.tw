<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"
"http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
  <link rev="made" href="mailto:slagell@ruby-lang.org">
  <link rel="stylesheet" href="ug.css" type="text/css">
  <title>Ruby 使用手冊 | 類別</title>
</head>
<body bgcolor="#e0e0e0" text="black" vlink="#4444ff"alink="yellow" alink="4444a0">
<div id=top>
<table class=noborder width=100%><tr>
       <td>
        <table class=noborder width=100%>
        <tr>
	<td><div class=rubyred><h2>Ruby 使用手冊</h2></div></td></tr>
        <tr>
        <td><div class=rubygray>類別 Classes</div></td>
        </tr></table>
       </td>
        <td width=82>
        <table class=noborder width=100%>
         <tr>
          <td>
            <a title="previous: Methods" href=methods.html>
            <img border=0 src="la-plexi.png" /></a></td>
          <td>
            <a title="next: Inheritance" href=inheritance.html>
            <img border=0 src="ra-plexi.png" /></a></td>
         </tr>
        </table>
       </td>
     </tr></table>
</div>
<div id=navcol>
<table>
<tr><td>&nbsp;</td><td><a href="index.html">甚麼是 Ruby？</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="getstarted.html">起步走</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="examples.html">簡單示範</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="strings.html">字串</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="regexp.html">正規表示式</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="arrays.html">陣列</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="backtoexamples.html">繼續簡單示範</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="control.html">控制結構</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="iterators.html">迭代器</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="oothinking.html">物件導向思維</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="methods.html">方法</a></td></tr> 
<tr><td>&nbsp;</td><td><strong>類別</strong></td></tr> 
<tr><td>&nbsp;</td><td><a href="inheritance.html">繼承</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="redefinemethods.html">重新定義方法</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="accesscontrol.html">存取控制</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="singletonmethods.html">單件方法</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="modules.html">模組</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="procobjects.html">程序物件</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="variables.html">變數</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="globalvars.html">全域變數</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="instancevars.html">實例變數</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="localvars.html">區域變數</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="constants.html">類別常數</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="rescue.html">例外處理：救援</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="ensure.html">例外處理：確認</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="accessors.html">存取器</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="objinitialization.html">物件初始化</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="misc.html">基本要素</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="about.html">關於本手冊</a></td></tr> 
<tr><td colspan=2><hr></td></tr>
<tr><td colspan=2>
  <a href="http://www.ruby-lang.org">Ruby 程式語言首頁</a>
</td></tr>

</table>
</div>
<div id=content>

<p>這個世界充滿著物件，我們都能把它們分門別類。例如，小孩子看到狗，不管是甚麼品種，可能都會叫牠作「汪汪」；我們自然地就會把世界的不同物件歸類。</p>
<p>物件導向程式語言的術語中，像「狗」這種類型，我們會稱為<em>類別 (class)</em>，而屬於該類別的物件就稱為<em>實例 (instance)</em>。</p>
<p>在 Ruby 或其他物件導向程式語言中，要建置一個物件，首先要定義類別的特徵，然後建立一個實例。下例闡述這個過程，首先定義一個簡單的 <code>Dog</code> 類別。</p>
<p></p><div class="shell">ruby&gt;<font color="#ffff00"><B> class Dog</B></font><BR>
&nbsp; &nbsp; |<font color="#ffff00"><B>&nbsp;&nbsp; def speak</B></font><BR>
&nbsp; &nbsp; |<font color="#ffff00"><B>&nbsp; &nbsp;&nbsp; puts &quot;Bow Wow&quot;</B></font><BR>
&nbsp; &nbsp; |<font color="#ffff00"><B>&nbsp;&nbsp; end</B></font><BR>
&nbsp; &nbsp; |<font color="#ffff00"><B> end</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; nil</B></font></div>

<p>Ruby 中，關鍵字 <code>class</code> 及 <code>end</code> 中間的程式碼，即是類別的定義。這個範圍中，從 <code>def</code> 開始則定義了類別的<em>方法 (method)</em>（如上一節所述），對應於該類別物件的某些行為。</p>
<p>我們已經定義了 <code>Dog</code> 的類別，現在就能建立狗 (dog) 了：</p>
<p></p><div class="shell">ruby&gt;<font color="#ffff00"><B> pochi = Dog.new</B></font><BR>
<font color="#50ffff"><B>&nbsp;&nbsp; #&lt;Dog:0xbcb90&gt;</B></font></div>

<p>我們為 <code>Dog</code> 類別建立一個新實例，並命名為 <code>pochi</code>。任何類別的 <code>new</code> 方法都可用於建立新實例。根據我們類別的定義，<code>pochi</code> 屬於 <code>Dog</code> 類別，因此具備 <code>Dog</code> 的所有特性。因為我們對於 <code>Dog</code> 的概念很簡單，我們只能讓 <code>pochi</code> 玩一項把戲。</p>
<p></p><div class="shell">ruby&gt;<font color="#ffff00"><B> pochi.speak</B></font><BR> Bow Wow<BR>
<font color="#50ffff"><B>&nbsp;&nbsp; nil</B></font></div>

<p>為類別建立實例，有時也稱為<em>實例化 (instantiating)</em> 該類別。我們要先有狗，才能享受與牠對話的樂趣。我們無法讓 Dog <em>類別 (class)</em> 對著我們叫。</p>
<p></p><div class="shell">ruby&gt;<font color="#ffff00"><B> Dog.speak</B></font><BR>
<font color="#50ffff"><B>ERR: (eval):1: undefined method `speak' for Dog:class</B></font></div>

<p>這就好像你無法吃一個 <em>三明治的抽象概念</em>。</p>

<p>另一方面，如果我們想要聽見一隻狗的叫聲，而不想有任何情感的連繫，我們可以創造（實例化）一隻暫時的狗，讓牠發出聲音後就消失。</p>
<p></p><div class="shell">ruby&gt;<font color="#ffff00"><B> (Dog.new).speak&nbsp;&nbsp; # 或常用的是 Dog.new.speak</B></font><BR> Bow Wow<BR>
<font color="#50ffff"><B>&nbsp;&nbsp; nil</B></font></div>

<p>你會說：「等一下，這可憐的小狗叫完就會消失？」是的：如果我們懶得為牠取名字（就好像我們的 <code>pochi</code>），Ruby 的自動垃圾收集功能會認為這是一隻沒人要的垃圾狗，就會無情地把牠拋棄。這其實沒什麼，反正我們可以隨意創造我們要的狗。</p>

</div>
<div id=bottom>
<table class=noborder width=100%><tr>
       <td>
  <div class=rubygray>
    <p>Copyright (c) 2005-2008 Mark Slagell，中文翻譯 <a href="http://ruby.tw">Ruby Taiwan</a> 社群</p>
    <p>Permission is granted to copy, distribute and/or modify
    this document under the terms of the GNU Free Documentation
    License, Version 1.2 or any later version published by the Free
    Software Foundation; with no Invariant Sections, no Front-Cover
    Texts, and no Back-Cover Texts.</p>

    <p>A copy of the license is included in the section entitled "<a href="documentation_license.html">GNU Free Documentation License</a>."</p>

 </div>
       </td>
        <td width=82>
        <table class=noborder width=100%>
         <tr>
          <td>
            <a title="previous: Methods" href=methods.html>
            <img border=0 src="la-plexi.png" /></a></td>
          <td>
            <a title="next: Inheritance" href=inheritance.html>
            <img border=0 src="ra-plexi.png" /></a></td>
         </tr>
        </table>
       </td>
     </tr></table>
</div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-145330-13']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</BODY></HTML>
