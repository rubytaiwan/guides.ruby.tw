<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"
"http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
  <link rev="made" href="mailto:slagell@ruby-lang.org">
  <link rel="stylesheet" href="ug.css" type="text/css">
  <title>Ruby 使用手冊 | 物件導向思維</title>
</head>
<body bgcolor="#e0e0e0" text="black" vlink="#4444ff"alink="yellow" alink="4444a0">
<div id=top>
<table class=noborder width=100%><tr>
       <td>
        <table class=noborder width=100%>
        <tr>
	<td><div class=rubyred><h2>Ruby 使用手冊</h2></div></td></tr>
        <tr>
        <td><div class=rubygray>物件導向思維</div></td>
        </tr></table>
       </td>
        <td width=82>
        <table class=noborder width=100%>
         <tr>
          <td>
            <a title="previous: Iterators" href=iterators.html>
            <img border=0 src="la-plexi.png" /></a></td>
          <td>
            <a title="next: Methods" href=methods.html>
            <img border=0 src="ra-plexi.png" /></a></td>
         </tr>
        </table>
       </td>
     </tr></table>
</div>
<div id=navcol>
<table>
<tr><td>&nbsp;</td><td><a href="index.html">甚麼是 Ruby？</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="getstarted.html">起步走</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="examples.html">簡單示範</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="strings.html">字串</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="regexp.html">正規表示式</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="arrays.html">陣列</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="backtoexamples.html">繼續簡單示範</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="control.html">控制結構</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="iterators.html">迭代器</a></td></tr> 
<tr><td>&nbsp;</td><td><strong>物件導向思維</strong></td></tr> 
<tr><td>&nbsp;</td><td><a href="methods.html">方法</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="classes.html">類別</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="inheritance.html">繼承</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="redefinemethods.html">重新定義方法</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="accesscontrol.html">存取控制</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="singletonmethods.html">單件方法</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="modules.html">模組</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="procobjects.html">程序物件</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="variables.html">變數</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="globalvars.html">全域變數</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="instancevars.html">實例變數</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="localvars.html">區域變數</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="constants.html">類別常數</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="rescue.html">例外處理：救援</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="ensure.html">例外處理：確認</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="accessors.html">存取器</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="objinitialization.html">物件初始化</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="misc.html">基本要素</a></td></tr> 
<tr><td>&nbsp;</td><td><a href="about.html">關於本手冊</a></td></tr> 
<tr><td colspan=2><hr></td></tr>
<tr><td colspan=2>
  <a href="http://www.ruby-lang.org">Ruby 程式語言首頁</a>
</td></tr>

</table>
</div>
<div id=content>

<p><em>物件導向 (object oriented)</em> 是個引人注意的詞彙， 把東西稱為物件導向，讓人聽起來覺得很聰明。Ruby 宣稱為物件導向程式語言，但到底「物件導向」是甚麼意思？</p>
<p>答案各式各樣，但重點都是一樣。先不這麼快就下結論，讓我們先想想傳統的程式設計範式 (programming paradigm)。</p>
<p>一般來說，程式設計遇到的問題都是要想出<em>資料表示法 (data representation)</em> 及在資料執行的<em>程序 (procedure)</em>。這種情況下，資料的性質是惰性、被動、無法自主的，完全任由龐大的程式體擺佈，而這個程式體是主動、邏輯、全能的。</p>
<p>這種方式的問題在於程式需要由程式員編寫，而程式員只能靠腦袋來記住大量的細節。當項目變大，程序核心也會持續成長，最終使程式員無法記住全部程式。思考出錯或打錯程式碼都會成為難以察覺的程序錯誤， 導致程序核心出現複雜而意外的運算，維護工作將會讓你手忙腳亂。傳統程式設計範式會提供指引，減少或找出程序錯誤，但最好的解決方法還是從根本作出改變。</p>
<p>物件導向程式設計能夠將單調而重複的邏輯工作委派予<em>資料</em>，把我們對資料的概念從<em>被動</em>轉為<em>主動</em>。換而言之，</p>
<ul>
<li>資料不再是一個開蓋盒子，只能讓我們自己去找東西或放東西進去。</li>
<li>資料變成是能夠運作的機器，具有標示明確的開關與功能。</li>
</ul>
<p>上述的「機器」內部可能非常複雜，也可能非常簡單，並不能單以外部作出判斷，我們不會隨意拆開機器（除非我們非常確定設計出現問題），所以我們只需要按按開關，了解有甚麼功能可以與資料互動。機器做好後，我們就不會再去想它是如何運作了。</p>
<p>你可能會覺得這樣好像更麻煩，但是這種方式能夠預防各種問題。</p>
<p>以下範例雖然沒什麼實用價值，但也能解釋部分概念。你的車上有里程表， 可用來計算按下重設鍵後所行駛的路程。我們可如何將這編寫為程式語言呢？在 C 中，里程表只是個數值變數，很可能就是<code>浮點數 (float)</code>。程式會慢慢遞增變數，有時可能會將變數重設為零。這樣的程式有甚麼問題嗎？任何非預期的臭蟲(Bug)程式都可能將此變數設定成錯誤值。使用過 C 的人都知道，要找出錯誤可能要花上數小時甚至數天，而最後才發現那個錯誤原來很無稽。（找到錯誤的那一刻，才讓人恍然大悟。）</p>
<p>從物件導向角度看來，這個程式也有問題。程式員設計里程表時，首先想到的不是「哪些資料類型與這個最為類似？」，而是「這程式到底會怎麼運作？」其中的差別就會形成嚴重的問題。應該花點時間決定里程表的用處，以及人們會如何使用。我們要製作能夠操作小機器，能夠遞增數值、重設、顯示數值，就這些功能而已。</p>
<p>我們不會讓里程表有機會加入任意值， 因為里程表根本不需要這個功能。里程表只具有幾項功能而已，這些功能我們已經賦予了它。因此，如果程式錯誤地嘗試加入其他數值（車輛氣候控制的溫度）至里程表中，就會立即指出哪裡出現問題。我們知道運行程式期間，（或編譯 (compiling)，視乎程式語言而定），<em>我們無法在里程表中加入任意值</em>。這可能不是非常清楚，但仍是清晰合理。這不能預防錯誤發生， 但能夠幫我們迅速地找出問題。這就是物件導向程式設計幫我們節省時間的其中一項方式。</p>

<p>接著讓我們進一步抽象化以上的範例，因為建立一間製造機器的工廠，跟製造一個機器其實同樣簡單。因此我們並不是直接建立一個里程表，而是建立一個可以製造里程表的工廠，利用一個模子(pattern)來生產任意個里程表。這個模子(pattern)樣式（或是你想要稱為里程表工廠）我們稱作<em>類別 (class)</em>，而從樣式產生的個別里程表（或工廠製造的里程表）我們稱作<em>物件 (object)</em>。大部分物件導向語言要求先定義類別 (class)，才能開始新的物件(object)，但 Ruby 並無這種限制。</p>

<p>要注意的是，使用物件導向語言不會<em>保證有</em>好的物件導向設計。確實任何語言的程式碼都有可能編寫得不清不楚、凌亂、毫不周詳⋯⋯ Ruby 的優點在於（特別是相對 C++ 而言）能夠自然地編寫物件導向程式，即使編寫小程式，也不用花費精力來解決零亂的程式碼。本手冊之後會討論如何利用 Ruby 達成目標，下一節將是「開關與功能」（物件方法），然後是「工廠」（類別）。你還在看吧？</p>


</div>
<div id=bottom>
<table class=noborder width=100%><tr>
       <td>
  <div class=rubygray>
    <p>Copyright (c) 2005-2008 Mark Slagell，中文翻譯 <a href="http://ruby.tw">Ruby Taiwan</a> 社群</p>
    <p>Permission is granted to copy, distribute and/or modify
    this document under the terms of the GNU Free Documentation
    License, Version 1.2 or any later version published by the Free
    Software Foundation; with no Invariant Sections, no Front-Cover
    Texts, and no Back-Cover Texts.</p>

    <p>A copy of the license is included in the section entitled "<a href="documentation_license.html">GNU Free Documentation License</a>."</p>
 </div>
       </td>
        <td width=82>
        <table class=noborder width=100%>
         <tr>
          <td>
            <a title="previous: Iterators" href=iterators.html>
            <img border=0 src="la-plexi.png" /></a></td>
          <td>
            <a title="next: Methods" href=methods.html>
            <img border=0 src="ra-plexi.png" /></a></td>
         </tr>
        </table>
       </td>
     </tr></table>
</div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-145330-13']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</BODY></HTML>
